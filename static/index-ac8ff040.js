import{a0 as e,ao as t,X as o,a5 as s,aM as n,ac as a,a9 as l,ad as i,m as r,n as u,T as c,aa as p,aN as f,aj as d,R as m,ai as v,af as y,r as g,bx as b}from"./index-b0f8ea9a.js";import{x as h,as as C,j as x,ad as k,ak as S,k as T,b2 as _,b4 as E,n as I,a4 as L,aS as M,a6 as j,ay as H,l as N,aK as w,av as B,m as $,F as z,u as F,$ as q,bb as A}from"./runtime-core.esm-bundler-a7a78763.js";const O=["success","info","warning","error"],U=e({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:t},id:{type:String,default:""},message:{type:o([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:o(Function),default:()=>{}},onClose:{type:o(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...O,""],default:""},zIndex:{type:Number,default:0}}),W=["id"],D=["textContent"],K={key:0},R=["innerHTML"],X=h({name:"ElNotification"});var Z=p(h({...X,props:U,emits:{destroy:()=>!0},setup(e,{expose:t}){const o=e,p=s("notification"),{Close:m}=n,v=C(!1);let y;const g=x((()=>{const e=o.type;return e&&a[o.type]?p.m(e):""})),b=x((()=>o.type&&a[o.type]||o.icon)),h=x((()=>o.position.endsWith("right")?"right":"left")),q=x((()=>o.position.startsWith("top")?"top":"bottom")),A=x((()=>({[q.value]:`${o.offset}px`,zIndex:o.zIndex})));function O(){o.duration>0&&({stop:y}=f((()=>{v.value&&X()}),o.duration))}function U(){null==y||y()}function X(){v.value=!1}return k((()=>{O(),v.value=!0})),l(document,"keydown",(function({code:e}){e===d.delete||e===d.backspace?U():e===d.esc?v.value&&X():O()})),t({visible:v,close:X}),(e,t)=>(S(),T(c,{name:M(p).b("fade"),onBeforeLeave:e.onClose,onAfterLeave:t[1]||(t[1]=t=>e.$emit("destroy")),persisted:""},{default:_((()=>[E(I("div",{id:e.id,class:L([M(p).b(),e.customClass,M(h)]),style:j(M(A)),role:"alert",onMouseenter:U,onMouseleave:O,onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[M(b)?(S(),T(M(i),{key:0,class:L([M(p).e("icon"),M(g)])},{default:_((()=>[(S(),T(H(M(b))))])),_:1},8,["class"])):N("v-if",!0),I("div",{class:L(M(p).e("group"))},[I("h2",{class:L(M(p).e("title")),textContent:w(e.title)},null,10,D),E(I("div",{class:L(M(p).e("content")),style:j(e.title?void 0:{margin:0})},[B(e.$slots,"default",{},(()=>[e.dangerouslyUseHTMLString?(S(),$(z,{key:1},[N(" Caution here, message could've been compromised, never use user's input as message "),I("p",{innerHTML:e.message},null,8,R)],2112)):(S(),$("p",K,w(e.message),1))]))],6),[[r,e.message]]),e.showClose?(S(),T(M(i),{key:0,class:L(M(p).e("closeBtn")),onClick:u(X,["stop"])},{default:_((()=>[F(M(m))])),_:1},8,["class","onClick"])):N("v-if",!0)],2)],46,W),[[r,v.value]])])),_:3},8,["name","onBeforeLeave"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/notification/src/notification.vue"]]);const G={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let J=1;const P=function(e={},t=null){if(!m)return{close:()=>{}};("string"==typeof e||q(e))&&(e={message:e});const o=e.position||"top-right";let s=e.offset||0;G[o].forEach((({vm:e})=>{var t;s+=((null==(t=e.el)?void 0:t.offsetHeight)||0)+16})),s+=16;const{nextZIndex:n}=v(),a="notification_"+J++,l=e.onClose,i={zIndex:n(),...e,offset:s,id:a,onClose:()=>{!function(e,t,o){const s=G[t],n=s.findIndex((({vm:t})=>{var o;return(null==(o=t.component)?void 0:o.props.id)===e}));if(-1===n)return;const{vm:a}=s[n];if(!a)return;null==o||o(a);const l=a.el.offsetHeight,i=t.split("-")[0];s.splice(n,1);const r=s.length;if(r<1)return;for(let u=n;u<r;u++){const{el:e,component:t}=s[u].vm,o=Number.parseInt(e.style[i],10)-l-16;t.props.offset=o}}(a,o,l)}};let r=document.body;y(e.appendTo)?r=e.appendTo:A(e.appendTo)&&(r=document.querySelector(e.appendTo)),y(r)||(r=document.body);const u=document.createElement("div"),c=F(Z,i,q(i.message)?{default:()=>i.message}:null);return c.appContext=null!=t?t:P._context,c.props.onDestroy=()=>{g(null,u)},g(c,u),G[o].push({vm:c}),r.appendChild(u.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};O.forEach((e=>{P[e]=(t={})=>(("string"==typeof t||q(t))&&(t={message:t}),P({...t,type:e}))})),P.closeAll=function(){for(const e of Object.values(G))e.forEach((({vm:e})=>{e.component.exposed.visible.value=!1}))},P._context=null;const Q=b(P,"$notify");export{Q as E};
