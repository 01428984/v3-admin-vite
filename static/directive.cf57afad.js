import{a1 as e,a as i,r as s,h as a,a2 as n,o,b as l,e as r,x as d,L as t,w as m,f as c,u as p,y as u,A as f,_ as v}from"./index.cfc56859.js";import{S as _}from"./SwitchRoles.e014bbbe.js";const y=i=>{if(i&&i instanceof Array&&i.length>0){const s=e().roles,a=i;return s.some((e=>a.includes(e)))}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1},b={class:"app-container"},g={class:"permission-alert"},k=f(" 只有 "),h=f("admin"),P=f("可以看见这个 "),z=f(" v-permission=\"['admin']\" "),x={class:"permission-alert"},j=f(" 只有 "),w=f("editor"),A=f("可以看见这个 "),L=f(" v-permission=\"['editor']\" "),S={class:"permission-alert"},C=f(" 两者 "),D=f("admin"),E=f("和 "),I=f("editor"),R=f("都可以看见这个 "),q=f(" v-permission=\"['admin', 'editor']\" "),B=f(" 在某些情况下，不适合使用 v-permission。例如: Element-Plus 的 el-tab-pane 或 el-table-column 以及其它动态渲染 Dom 的场景。你只能通过手动设置 v-if 来实现。 "),F=f(" admin 可以看见这个 "),G=f(" v-if=\"checkPermission(['admin'])\" "),H=f(" editor 可以看见这个 "),J=f(" v-if=\"checkPermission(['editor'])\" "),K=f(" 两者 admin 和 editor 都可以看见这个 "),M=f(" v-if=\"checkPermission(['admin', 'editor'])\" "),N=v(i({__name:"directive",setup(e){const i=s(1),f=()=>{i.value++};return(e,s)=>{const v=a("el-tag"),N=a("el-tab-pane"),O=a("el-tabs"),Q=n("permission");return o(),l("div",b,[r(_,{onChange:f}),(o(),l("div",{key:i.value,class:"margin-top"},[d("div",null,[t((o(),l("span",g,[k,r(v,null,{default:m((()=>[h])),_:1}),P])),[[Q,["admin"]]]),t((o(),c(v,{class:"permission-code",type:"info",size:"large"},{default:m((()=>[z])),_:1})),[[Q,["admin"]]])]),d("div",null,[t((o(),l("span",x,[j,r(v,null,{default:m((()=>[w])),_:1}),A])),[[Q,["editor"]]]),t((o(),c(v,{class:"permission-code",type:"info",size:"large"},{default:m((()=>[L])),_:1})),[[Q,["editor"]]])]),d("div",null,[t((o(),l("span",S,[C,r(v,null,{default:m((()=>[D])),_:1}),E,r(v,null,{default:m((()=>[I])),_:1}),R])),[[Q,["admin","editor"]]]),t((o(),c(v,{class:"permission-code",type:"info",size:"large"},{default:m((()=>[q])),_:1})),[[Q,["admin","editor"]]])])])),(o(),l("div",{key:"checkPermission"+i.value,class:"margin-top"},[r(v,{type:"info",size:"large"},{default:m((()=>[B])),_:1}),r(O,{type:"border-card",class:"margin-top"},{default:m((()=>[p(y)(["admin"])?(o(),c(N,{key:0,label:"admin"},{default:m((()=>[F,r(v,{class:"permission-code",type:"info"},{default:m((()=>[G])),_:1})])),_:1})):u("",!0),p(y)(["editor"])?(o(),c(N,{key:1,label:"editor"},{default:m((()=>[H,r(v,{class:"permission-code",type:"info"},{default:m((()=>[J])),_:1})])),_:1})):u("",!0),p(y)(["admin","editor"])?(o(),c(N,{key:2,label:"admin 和 editor"},{default:m((()=>[K,r(v,{class:"permission-code",type:"info"},{default:m((()=>[M])),_:1})])),_:1})):u("",!0)])),_:1})]))])}}}),[["__scopeId","data-v-588db394"]]);export{N as default};
