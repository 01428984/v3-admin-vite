import{E as e}from"./index-5ac14c26.js";import{bs as s}from"./index-a49147f4.js";import{w as t,l as n,t as o,b1 as a,m as r,av as c,aj as i,s as l}from"./runtime-core.esm-bundler-42d2bde8.js";const u={lock:!0,text:"加载中..."};function m(s,t={}){let n;const o=()=>{n&&n.close()},a={...u,...t};return(...t)=>{try{r=a,n=e.service(r);const c=s(...t);return c instanceof Promise?c.then((e=>e)).catch((e=>{throw e})).finally((()=>{o()})):(o(),Promise.resolve(c))}catch(c){throw o(),c}var r}}const d={code:0,data:{},message:"获取成功"};function f(){return new Promise((e=>{setTimeout((()=>{e(d)}),1e3)}))}function h(){return new Promise(((e,s)=>{setTimeout((()=>{s(new Error("发生错误"))}),1e3)}))}const g={class:"app-container"},p=r("h4",null,"该示例是演示：通过将要执行的函数传递给 hook，让 hook 自动开启全屏 loading，函数执行结束后自动关闭 loading",-1),w=t({__name:"use-fullscreen-loading",setup(e){const t={text:"即将发生错误...",background:"#F56C6C20",svg:'\n  <path class="path" d="\n    M 30 15\n    L 28 17\n    M 25.61 25.61\n    A 15 15, 0, 0, 1, 15 30\n    A 15 15, 0, 1, 1, 27.99 7.5\n    L 15 15\n  " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>\n',svgViewBox:"-10, -10, 50, 50"},r=async()=>{const e=await m(f)();s.success(e.message)},u=async()=>{try{await m(h,t)()}catch(e){s.error(e.message)}};return(e,s)=>{const t=c("el-button");return i(),n("div",g,[p,o(t,{onClick:r},{default:a((()=>[l("查询成功")])),_:1}),o(t,{onClick:u},{default:a((()=>[l("查询失败")])),_:1})])}}});export{w as default};
